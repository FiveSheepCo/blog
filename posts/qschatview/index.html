<!doctype html><html class="h-full w-full font-sans" lang=en-us><head><meta charset=utf-8><link rel="shortcut icon" href=https://blog.fivesheep.co/favicon.ico type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1"><title>Introducing ChatView - FiveSheep Blog</title>
<meta name=author content="FiveSheep"><meta property="og:title" content="Introducing ChatView"><meta property="og:description" content="QSChatView: A beautiful data-driven chat view for iOS and macOS In today&rsquo;s fast-paced world, chat applications have become an essential means of communication. With the increasing popularity of SwiftUI and its easy-to-use, declarative syntax, developers are always on the lookout for reliable libraries to build messaging interfaces for their apps. Look no further! FiveSheep has created a SwiftUI library called QSChatView that provides a customizable chat view for rendering static and interactive chat conversations, similar to popular messaging apps like WhatsApp and Signal."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.fivesheep.co/posts/qschatview/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-19T00:00:00+02:00"><meta property="article:modified_time" content="2023-04-19T00:00:00+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introducing ChatView"><meta name=twitter:description content="QSChatView: A beautiful data-driven chat view for iOS and macOS In today&rsquo;s fast-paced world, chat applications have become an essential means of communication. With the increasing popularity of SwiftUI and its easy-to-use, declarative syntax, developers are always on the lookout for reliable libraries to build messaging interfaces for their apps. Look no further! FiveSheep has created a SwiftUI library called QSChatView that provides a customizable chat view for rendering static and interactive chat conversations, similar to popular messaging apps like WhatsApp and Signal."><link rel=stylesheet href="/css/styles.min.a3c9030b7d9faa40497f62c1f893e6ce54ea58f949b48cdb0558b00bfa1ec043b0f0763202ad4e5580553e196bf47dc516220d128ae27904340e90c6f5a62d27.css" integrity="sha512-o8kDC32fqkBJf2LB+JPmzlTqWPlJtIzbBViwC/oewEOw8HYyAq1OVYBVPhlr9H3FFiINEorieQQ0DpDG9aYtJw=="><script>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script></head><body class="flex flex-col items-center w-full"><main class="w-full sm:w-10/12 md:w-9/12 lg:w-7/12 xl:w-5/12 m-auto px-6"><header class="mt-9 mb-8"><div class="flex justify-between items-center"><div class="flex items-center"><input id=navbar_btn class=hidden type=checkbox>
<label for=navbar_btn class="menu-btn mr-4 items-center flex xl:hidden"><span class=navicon></span>
</label><a href=/ class="font-bold text-lg xl:text-2xl mr-auto">FiveSheep Blog</a></div><div class="flex items-center"><div class="cursor-pointer ml-2"><svg id="dark_mode_btn" class="hidden" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31.0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg></svg><svg id="light_mode_btn" class="hidden" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0V0z" fill="none"/></g><g><g><g><path d="M14 2c1.82.0 3.53.5 5 1.35C16.01 5.08 14 8.3 14 12s2.01 6.92 5 8.65C17.53 21.5 15.82 22 14 22 8.48 22 4 17.52 4 12S8.48 2 14 2z"/></g></g></g></svg></svg></div><div class="ml-2 sep hidden sm:block"></div><div class="ml-2 relative flex items-center"><svg id="search_btn" class="cursor-pointer" width="18" height="18" viewBox="2 0 20 20"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61.0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></svg><div id=search_menu_wrapper class="hidden justify-center fixed top-0 left-0 w-full h-full z-40"><div id=search_menu class="fixed flex flex-col w-full h-full sm:h-auto sm:top-24 sm:bottom-24 rounded-none sm:rounded-md sm:w-120 z-50"><div class="flex min-h-10 shadow-md"><div class="flex flex-grow"><input id=search_menu_input class="flex-grow focus:outline-none px-4 rounded-tl-md" type=text placeholder="Search Posts"></div><div id=search_menu_close_btn class="flex items-center justify-center w-10 rounded-tr-md cursor-pointer"><svg width="14" height="14" viewBox="3 3 18 18"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></svg></div></div><div id=search_menu_results class="flex-grow overflow-y-auto"></div></div></div></div></div></div><nav id=navbar class="mt-3 hidden xl:block"><ul class=flex></ul></nav><nav id=navbar_sm class="mt-2 hidden"><ul></ul><hr class=my-4></nav></header><div id=content class=my-8><div class="collapsible-menu-wrapper my-8 p-4 border-2 rounded"><div class="flex justify-between"><span class=font-bold>Table of contents</span></div><div class="collapsible-menu text-sm ml-2"><div class=leading-6><nav id=TableOfContents><ul><li><a href=#key-features>Key Features</a><ul><li><a href=#customization-options>Customization Options</a></li></ul></li><li><a href=#installing-qschatview>Installing QSChatView</a></li><li><a href=#getting-started-with-qschatview>Getting Started with QSChatView</a><ul><li><a href=#basic-example>Basic Example</a></li><li><a href=#advanced-example>Advanced Example</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></div><div class=my-7><article><h1 id=qschatview-a-beautiful-data-driven-chat-view-for-ios-and-macos>QSChatView: A beautiful data-driven chat view for iOS and macOS</h1><blockquote><p>In today&rsquo;s fast-paced world, chat applications have become an essential means of communication. With the increasing popularity of SwiftUI and its easy-to-use, declarative syntax, developers are always on the lookout for reliable libraries to build messaging interfaces for their apps. Look no further! FiveSheep has created a SwiftUI library called QSChatView that provides a customizable chat view for rendering static and interactive chat conversations, similar to popular messaging apps like WhatsApp and Signal.</p></blockquote><p>QSChatView is a fully interactive, data-driven chat view that works on iOS, macOS, and Catalyst. It supports light and dark mode, and offers various customization options.</p><h2 id=key-features>Key Features</h2><p>QSChatView offers a range of features that make it an ideal choice for creating chat interfaces in your SwiftUI apps. Some of the key features include:</p><ol><li><p><strong>Data-driven chat view</strong>: The chat view is fully data-driven, allowing you to easily connect it to your app&rsquo;s data source, whether it&rsquo;s a server, database, or local cache.</p></li><li><p><strong>Interactive elements</strong>: The library supports various interactive elements, such as typing indicators, which help create a more engaging user experience.</p></li><li><p><strong>Customizable appearance</strong>: You can easily customize the appearance of your chat interface using the <code>ChatConfigBuilder</code> to match your app&rsquo;s design and requirements.</p></li><li><p><strong>Rich media support</strong>: <code>QSChatView</code> allows you to incorporate rich media, such as images and videos<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, into your chat conversations, providing a more immersive experience for your users.</p></li><li><p><strong>Cross-platform compatibility</strong>: The library works seamlessly on iOS, macOS, and Catalyst, making it a perfect choice for developers looking to create chat interfaces across multiple platforms.</p></li><li><p><strong>Light and dark mode support</strong>: <code>QSChatView</code> supports both light and dark modes, ensuring that your chat interface will look great regardless of the user&rsquo;s system preferences.</p></li><li><p><strong>Swift Package Manager integration</strong>: Installing and managing <code>QSChatView</code> is easy thanks to its Swift Package Manager integration. Just add the library&rsquo;s URL to your project&rsquo;s dependencies and you&rsquo;re good to go.</p></li></ol><p>With these features and more, <code>QSChatView</code> makes it simple to build beautiful, data-driven chat applications for iOS and macOS.</p><h3 id=customization-options>Customization Options</h3><p>One of the key features of QSChatView is the ability to customize the chat view according to your app&rsquo;s design and requirements. Using the <code>ChatConfigBuilder</code>, you can easily adjust many settings and behaviors.</p><p>Here&rsquo;s an example of how to create a basic, custom chat configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> config = ChatConfigBuilder()
</span></span><span style=display:flex><span>    .showTextField()
</span></span><span style=display:flex><span>    .showTimestamps(<span style=color:#66d9ef>false</span>)
</span></span><span style=display:flex><span>    .withScrollingBehavior(.adaptive)
</span></span><span style=display:flex><span>    .build()
</span></span></code></pre></div><h2 id=installing-qschatview>Installing QSChatView</h2><p>To install QSChatView, simply add the following URL to your Swift Package Manager dependencies:</p><pre tabindex=0><code>https://github.com/quintschaf/qschatview.git
</code></pre><h2 id=getting-started-with-qschatview>Getting Started with QSChatView</h2><h3 id=basic-example>Basic Example</h3><p>Here is a basic example with a single chat participant and message:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>SwiftUI</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QSChatView</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>MyChatView</span>: View {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Instantiate a `ChatController` with some initial messages</span>
</span></span><span style=display:flex><span>    @StateObject <span style=color:#66d9ef>var</span> controller = ChatController(messages: [
</span></span><span style=display:flex><span>        ChatMessage(from: .me, content: .text(<span style=color:#e6db74>&#34;Hello world&#34;</span>)),
</span></span><span style=display:flex><span>    ])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> body: some View {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Render the chat view with our controller</span>
</span></span><span style=display:flex><span>        QSChatView(controller).padding()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=advanced-example>Advanced Example</h3><p>A more advanced example with a modified config, multiple participants and a custom chat backend:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>SwiftUI</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>QSChatView</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyChatData</span>: ObservableObject {
</span></span><span style=display:flex><span>    @Published <span style=color:#66d9ef>var</span> controller: ChatController
</span></span><span style=display:flex><span>    @Published <span style=color:#66d9ef>var</span> chatPartner: ChatParticipant
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>init</span>() {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Build chat config.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// You can also use `ChatConfig.default` here.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> config = ChatConfigBuilder()
</span></span><span style=display:flex><span>            .showTextField()
</span></span><span style=display:flex><span>            .showTimestamps(<span style=color:#66d9ef>false</span>)
</span></span><span style=display:flex><span>            .withScrollingBehavior(.adaptive)
</span></span><span style=display:flex><span>            .build()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// In this example we specify a fixed set of initial messages.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// In a real-world application, you would probably load messages</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// from a server or database, or restore them from a local cache.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> messages: [ChatMessage] = [
</span></span><span style=display:flex><span>            ChatMessage(from: .me, content: .text(<span style=color:#e6db74>&#34;Hey John, are you there?&#34;</span>))
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Create a chat controller with our messages and config</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.controller = ChatController(messages: messages, config: config)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Create a chat partner</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>self</span>.chatPartner = ChatParticipantBuilder().withName(<span style=color:#e6db74>&#34;John Doe&#34;</span>).build()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// This is meant as an example on how to interact with the chat controller.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// It also serves as an introduction to the `ChatMessagePromise` API.</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>startMessageTimer</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Run this block every 5 seconds</span>
</span></span><span style=display:flex><span>        Timer.scheduledTimer(withTimeInterval: <span style=color:#ae81ff>5</span>, repeats: <span style=color:#66d9ef>true</span>) { <span style=color:#66d9ef>_</span> <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Add a temporary message with a typing indicator.</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// In this case, John Doe is shown as typing.</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> messagePromise = <span style=color:#66d9ef>self</span>.controller.sendPromise(from: <span style=color:#66d9ef>self</span>.chatPartner)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Wait 2 seconds before resolving the promise</span>
</span></span><span style=display:flex><span>            DispatchQueue.main.asyncAfter(deadline: .now() <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>// Resolve the promise with the actual message</span>
</span></span><span style=display:flex><span>                messagePromise.fulfill(withContent: .text(<span style=color:#e6db74>&#34;Hello from John!&#34;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>// In the case that John stops typing without sending</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>// a message, we can use `messagePromise.reject()` instead.</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>MyChatView</span>: View {
</span></span><span style=display:flex><span>    @StateObject <span style=color:#66d9ef>var</span> chat = MyChatData()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Called when the user sends a message through the chat view</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleMessageSent</span>(<span style=color:#66d9ef>_</span> message: String) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Messages are added to the controller before this callback is called.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// </span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// We can do additional processing here, such as sending the message</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// to a server, logging it, updating statistics, and so on.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// </span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// In this example, we just print the message to the console.</span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;User sent message: </span><span style=color:#e6db74>\(</span>message<span style=color:#e6db74>)</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> body: some View {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Render the chat view with our controller and callback</span>
</span></span><span style=display:flex><span>        QSChatView(chat.controller, onMessageSent: handleMessageSent)
</span></span><span style=display:flex><span>            .padding()
</span></span><span style=display:flex><span>            .onAppear { chat.startMessageTimer() }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>QSChatView is an excellent SwiftUI library for creating customizable and interactive chat views for your iOS and macOS applications. The examples provided in the README demonstrate how easy it is to implement and customize the chat view according to your application&rsquo;s requirements. By leveraging the power of SwiftUI and QSChatView, you can create beautiful, data-driven chat applications for iOS and macOS.</p><p>Give QSChatView a try by visiting the <a href=https://github.com/FiveSheepCo/QSChatView>GitHub repository</a> and start building amazing chat experiences for your users today!</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Images are implemented, but Video and Audio is not yet supported.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article></div></div><footer class="my-8 w-full text-center text-xs"><article>Copyright © 2024 FiveSheep OÜ, 2022 Quintschaf GbR</article></footer></main><script src=/js/header.0b11855b871cb4d10c6c07b6723b9209f5c2bc9100735ab6ff47c8f9b76bb3d6ae41b488083b5fb15697987334039eb651b25c83228c29ac48a2bc168db8a894.js integrity="sha512-CxGFW4cctNEMbAe2cjuSCfXCvJEAc1q2/0fI+bdrs9auQbSICDtfsVaXmHM0A562UbJcgyKMKaxIorwWjbiolA=="></script><script src=/js/zooming.37fad9cbac53af0de454dcde76e51d23f8d4342afd325eb35ddcba63c97e599dd72208e429c7076714d995b55dfd6b787576a012480cd400a1a1514e5c2e1c87.js integrity="sha512-N/rZy6xTrw3kVNzeduUdI/jUNCr9Ml6zXdy6Y8l+WZ3XIgjkKccHZxTZlbVd/Wt4dXagEkgM1AChoVFOXC4chw=="></script><script src=/js/search-en-us.min.396f5df62d84ba487367f6d700d3efb734d34515ac140fcc8e06d42f4884301bdfd2849ccc3e499c6280ed1735ac09e93580ffa5d0e3ff005183747fe0000ab8.js integrity="sha512-OW9d9i2EukhzZ/bXANPvtzTTRRWsFA/MjgbUL0iEMBvf0oSczD5JnGKA7Rc1rAnpNYD/pdDj/wBRg3R/4AAKuA=="></script><script src=/js/code-copy-btn.f06392d03f6930fffca110ca002300d79e700fcf3dcd931d880d1e090de94689f0896aab353d1762c3fababe79159500aa8414079515eede848e7f3bf26c6d54.js integrity="sha512-8GOS0D9pMP/8oRDKACMA155wD889zZMdiA0eCQ3pRonwiWqrNT0XYsP6ur55FZUAqoQUB5UV7t6Ejn878mxtVA=="></script></body></html>